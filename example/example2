# ============================================================
# –ü–†–ò–ú–ï–† –í–´–ü–û–õ–ù–ï–ù–ò–Ø –õ–ê–ë–û–†–ê–¢–û–†–ù–û–ô –†–ê–ë–û–¢–´ ‚Ññ2
# –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ AST
# –î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: [–î–ê–¢–ê]
# –°—Ç—É–¥–µ–Ω—Ç: [–§–ê–ú–ò–õ–ò–Ø –ò.–û.]
# –ì—Ä—É–ø–ø–∞: [–ù–û–ú–ï–† –ì–†–£–ü–ü–´]
# ============================================================

# –ö–û–ú–ê–ù–î–´ –ó–ê–ü–£–°–ö–ê:
# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞:
#    java -jar antlr-4.13.1-complete.jar -Dlanguage=Python3 AlgebraGrammar.g4
#
# 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
#    python main.py

========================================================================
üéì –õ–ê–ë–û–†–ê–¢–û–†–ù–ê–Ø –†–ê–ë–û–¢–ê ‚Ññ2
–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ AST
========================================================================

========================================================================
üß™ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –¢–ï–°–¢–´ –°–ò–ù–¢–ê–ö–°–ò–ß–ï–°–ö–û–ì–û –ê–ù–ê–õ–ò–ó–ê–¢–û–†–ê
========================================================================

==================================================
üìù –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: 2 + 3 * 4
==================================================

üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '2 + 3 * 4'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('+'):
  Number(2)
  BinaryOp('*'):
    Number(3)
    Number(4)

üë£ –û–±—Ö–æ–¥ AST —á–µ—Ä–µ–∑ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å:
------------------------------------------------------------
Binary Operation: +
  Number: 2
  Binary Operation: *
    Number: 3
    Number: 4

üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: 14

‚úÖ –¢–ï–°–¢ –ü–†–û–ô–î–ï–ù: –£–º–Ω–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —Å–ª–æ–∂–µ–Ω–∏–µ–º (3*4=12, 2+12=14)

==================================================
üìù –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ–±–æ–∫ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: (2 + 3) * 4
==================================================

üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '(2 + 3) * 4'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('*'):
  BinaryOp('+'):
    Number(2)
    Number(3)
  Number(4)

üë£ –û–±—Ö–æ–¥ AST —á–µ—Ä–µ–∑ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å:
------------------------------------------------------------
Binary Operation: *
  Binary Operation: +
    Number: 2
    Number: 3
  Number: 4

üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: 20

‚úÖ –¢–ï–°–¢ –ü–†–û–ô–î–ï–ù: –°–∫–æ–±–∫–∏ –∏–∑–º–µ–Ω–∏–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π ((2+3)=5, 5*4=20)

==================================================
üìù –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–µ–ø–µ–Ω–µ–π (–ø—Ä–∞–≤–æ–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å)
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: 2^3^2
==================================================

üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '2^3^2'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('^'):
  Number(2)
  BinaryOp('^'):
    Number(3)
    Number(2)

üë£ –û–±—Ö–æ–¥ AST —á–µ—Ä–µ–∑ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å:
------------------------------------------------------------
Binary Operation: ^
  Number: 2
  Binary Operation: ^
    Number: 3
    Number: 2

üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: 512

‚úÖ –¢–ï–°–¢ –ü–†–û–ô–î–ï–ù: –°—Ç–µ–ø–µ–Ω—å –ø—Ä–∞–≤–æ–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–∞ (2^(3^2) = 2^9 = 512, –∞ –Ω–µ (2^3)^2 = 64)

==================================================
üìù –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: -x + +5
==================================================

üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '-x + +5'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('+'):
  UnaryOp('-'):
    Variable('x')
  UnaryOp('+'):
    Number(5)

üë£ –û–±—Ö–æ–¥ AST —á–µ—Ä–µ–∑ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å:
------------------------------------------------------------
Binary Operation: +
  Unary Operation: -
    Variable: x
  Unary Operation: +
    Number: 5

‚ö†Ô∏è  –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã—á–∏—Å–ª–∏—Ç—å: Variable 'x' is not defined

‚úÖ –¢–ï–°–¢ –ü–†–û–ô–î–ï–ù: –£–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

==================================================
üìù –¢–µ—Å—Ç 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏—è
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: x^2 + y^2 = z^2
==================================================

üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: 'x^2 + y^2 = z^2'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
Equation:
  Left:
    BinaryOp('+'):
      BinaryOp('^'):
        Variable('x')
        Number(2)
      BinaryOp('^'):
        Variable('y')
        Number(2)
  Right:
    BinaryOp('^'):
      Variable('z')
      Number(2)

üë£ –û–±—Ö–æ–¥ AST —á–µ—Ä–µ–∑ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å:
------------------------------------------------------------
Equation:
  Left side:
    Binary Operation: +
      Binary Operation: ^
        Variable: x
        Number: 2
      Binary Operation: ^
        Variable: y
        Number: 2
  Right side:
    Binary Operation: ^
      Variable: z
      Number: 2

‚ö†Ô∏è  –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã—á–∏—Å–ª–∏—Ç—å: Variable 'x' is not defined

‚úÖ –¢–ï–°–¢ –ü–†–û–ô–î–ï–ù: –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –ø–∞—Ä—Å–∏—Ç—Å—è –∏ —Å—Ç—Ä–æ–∏—Ç—Å—è AST

========================================================================
üîç –í–ê–õ–ò–î–ê–¶–ò–Ø –°–ò–ù–¢–ê–ö–°–ò–ß–ï–°–ö–û–ô –ö–û–†–†–ï–ö–¢–ù–û–°–¢–ò
========================================================================

--------------------------------------------------
–¢–µ—Å—Ç: –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: 'x + '
--------------------------------------------------
‚úÖ –ö–û–†–†–ï–ö–¢–ù–û: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å)

--------------------------------------------------
–¢–µ—Å—Ç: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: '* 5'
--------------------------------------------------
‚úÖ –ö–û–†–†–ï–ö–¢–ù–û: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å)

--------------------------------------------------
–¢–µ—Å—Ç: –ù–µ–∑–∞–∫—Ä—ã—Ç–∞—è —Å–∫–æ–±–∫–∞
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: '(2 + 3'
--------------------------------------------------
‚úÖ –ö–û–†–†–ï–ö–¢–ù–û: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å)

--------------------------------------------------
–¢–µ—Å—Ç: –°–ª–æ–∂–Ω–æ–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
–í—ã—Ä–∞–∂–µ–Ω–∏–µ: '2 + 3 * (4 - 1)'
--------------------------------------------------
‚úÖ –ö–û–†–†–ï–ö–¢–ù–û: –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–µ—Ä–Ω—ã–π (–∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å)

========================================================================
üíª –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ô –†–ï–ñ–ò–ú –ü–ê–†–°–ï–†–ê
========================================================================

‚û°Ô∏è  –í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: a*b + c/d
üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: 'a*b + c/d'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('+'):
  BinaryOp('*'):
    Variable('a')
    Variable('b')
  BinaryOp('/'):
    Variable('c')
    Variable('d')

‚û°Ô∏è  –í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: x=5, y=3
‚úÖ –ó–∞–¥–∞–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: {'x': 5.0, 'y': 3.0}

‚û°Ô∏è  –í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: 2*x + y
üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '2*x + y'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('+'):
  BinaryOp('*'):
    Number(2)
    Variable('x')
  Variable('y')

üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: 13.0

‚û°Ô∏è  –í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: (x+y)^2
üîç –ü–∞—Ä—Å–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '(x+y)^2'
------------------------------------------------------------
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

üå≥ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ (AST):
------------------------------------------------------------
BinaryOp('^'):
  BinaryOp('+'):
    Variable('x')
    Variable('y')
  Number(2)

üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: 64.0

‚û°Ô∏è  –í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: exit
–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...

========================================================================
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
========================================================================

–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 12
–ü—Ä–æ–π–¥–µ–Ω–æ: 12
–ù–µ –ø—Ä–æ–π–¥–µ–Ω–æ: 0
–£—Å–ø–µ—à–Ω–æ—Å—Ç—å: 100.0%

========================================================================
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω!
‚úÖ AST —É—Å–ø–µ—à–Ω–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π!
========================================================================

# ============================================================
# –ê–ù–ê–õ–ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í:
# ============================================================

1. ‚úÖ –ü–†–ò–û–†–ò–¢–ï–¢ –û–ü–ï–†–ê–¶–ò–ô:
   - –£–º–Ω–æ–∂–µ–Ω–∏–µ/–¥–µ–ª–µ–Ω–∏–µ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —Å–ª–æ–∂–µ–Ω–∏–µ–º/–≤—ã—á–∏—Ç–∞–Ω–∏–µ–º
   - –°—Ç–µ–ø–µ–Ω—å –∏–º–µ–µ—Ç –Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å—Ä–µ–¥–∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –°–∫–æ–±–∫–∏ –∏–∑–º–µ–Ω—è—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π

2. ‚úÖ –ê–°–°–û–¶–ò–ê–¢–ò–í–ù–û–°–¢–¨:
   - –°–ª–æ–∂–µ–Ω–∏–µ, –≤—ã—á–∏—Ç–∞–Ω–∏–µ, —É–º–Ω–æ–∂–µ–Ω–∏–µ, –¥–µ–ª–µ–Ω–∏–µ - –ª–µ–≤–æ–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–µ
   - –°—Ç–µ–ø–µ–Ω—å - –ø—Ä–∞–≤–æ–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–∞—è

3. ‚úÖ –£–ù–ê–†–ù–´–ï –û–ü–ï–†–ê–¶–ò–ò:
   - –£–Ω–∞—Ä–Ω—ã–µ + –∏ - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
   - –ò–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

4. ‚úÖ –£–†–ê–í–ù–ï–ù–ò–Ø:
   - –û–ø–µ—Ä–∞—Ç–æ—Ä = –∏–º–µ–µ—Ç –Ω–∞–∏–º–µ–Ω—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - –û–±–µ —á–∞—Å—Ç–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∞—Ä—Å—è—Ç—Å—è

5. ‚úÖ AST –ü–û–°–¢–†–û–ï–ù–ò–ï:
   - –î–µ—Ä–µ–≤–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω Visitor –¥–ª—è –æ–±—Ö–æ–¥–∞

6. ‚úÖ –í–ê–õ–ò–î–ê–¶–ò–Ø:
   - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ä–≥–∞—é—Ç—Å—è
   - –í—ã–≤–æ–¥—è—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

# ============================================================
# –ü–†–ò–ú–ï–†–´ AST –î–õ–Ø –†–ê–ó–õ–ò–ß–ù–´–• –í–´–†–ê–ñ–ï–ù–ò–ô:
# ============================================================

–í–´–†–ê–ñ–ï–ù–ò–ï: a + b * c
AST:
BinaryOp('+'):
  Variable('a')
  BinaryOp('*'):
    Variable('b')
    Variable('c')

–í–´–†–ê–ñ–ï–ù–ò–ï: a * b + c
AST:
BinaryOp('+'):
  BinaryOp('*'):
    Variable('a')
    Variable('b')
  Variable('c')

–í–´–†–ê–ñ–ï–ù–ò–ï: (a + b) * c
AST:
BinaryOp('*'):
  BinaryOp('+'):
    Variable('a')
    Variable('b')
  Variable('c')

–í–´–†–ê–ñ–ï–ù–ò–ï: a^b^c
AST:
BinaryOp('^'):
  Variable('a')
  BinaryOp('^'):
    Variable('b')
    Variable('c')

–í–´–†–ê–ñ–ï–ù–ò–ï: -a * +b
AST:
BinaryOp('*'):
  UnaryOp('-'):
    Variable('a')
  UnaryOp('+'):
    Variable('b')

# ============================================================
# –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:
# ============================================================

–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

1. ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–π
2. ‚úÖ –°—Ç—Ä–æ–∏—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ (AST)
3. ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π
4. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è
5. ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

AST –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –õ–µ–≥–∫–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- –í—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º
–¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.
